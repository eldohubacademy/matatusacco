<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Nganya Sacco</title>
    <link rel="stylesheet" href="main.css" />
  </head>
  <body>
    <%- include("_header.ejs") %>
    <main>
        <section class="newdriver">
            <form action="" method="post">
                    <label for="id">ID Number</label>
                    <input type="number" name="id" id="id">
                    <br>
                    <label for="fullname">Full Name</label>
                    <input type="text" name="fullname" id="fullname">
                    <br>
                    <label for="phone">Phone</label>
                    <input type="tel" name="phone" id="phone">
                    <br>
                    <label for="email">Email</label>
                    <input type="email" name="email" id="email">
                    <br>
                    <label for="addredd">Address</label>
                    <input type="text" name="address" id="address">
                    <br>
                    <label for="picture">Picture</label>
                    <input type="file" name="picture" id="picture">
                    <br>
                    <label for="vehicle">Assigned Vehicle</label>
                    <% if( locals.plates.length > 0 ){ %>
                        <select name="vehicle" id="vehicle">
                            <% plates.forEach(plate=>{ %>
                                <option value="<%=plate %>"> <%= plate.NumberPlate %> </option>
                            <% }) %>
                        </select>
                        <br>
                        <input type="submit" value="Add Driver">
                    <%}else{%>
                        <p>All vehicles have assigned drivers</p>
                    <%}%>
                    
            </form>
        </section>
        <section class="drivers">
            <% drivers.forEach(driver=>{ %>
                <div>
                    <img src="/images/kamau.jpg" alt="kamau profile image" width="200px">
                    <h2><%= driver.FullName %></h2>
                    <p>Phone: <%= driver.phone %> </p>
                    <a href="/vehicle?plate=<%=driver.AssignedVehicle%>">
                        <h3><%=driver.AssignedVehicle%></h3>
                    </a>
                    <a href="/remove-driver?plate=<%=driver.AssignedVehicle%>" class="remove">Remove</a>
                </div>
            <% }) %>
        </section>
     
    </main>
    <style>
        .drivers{
            display: flex;
            flex-wrap: wrap;
            gap: 25px;
        }
        .remove{
            background-color: red;
            color: white;
            padding: 12px;
            display: block;
            width: max-content;
        }
    </style>
   
  </body>
</html>
